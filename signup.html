<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="background1">
      <div class="background2">
        <div class="backGroup">
          <div class="backL">
            <div class="backLHead">
              <p>Today <span class="red">26</span></p>
              <p>|</p>
              <p>TOTAL 4623</p>
            </div>
            <div class="center">
              <div class="backLMain">
                <div>
                  <div class="mainProfileImg"></div>
                  <div class="feelingBox">
                    <span class="skyColor">TODAY IS..&nbsp; </span>
                    <span>
                      <img class="feelingImg" src="images/smile.png" /> </span
                    >&nbsp;기쁨
                  </div>
                  <div class="mainPR">
                    <div>
                      <div class="snippets">사이 좋은 사람들</div>
                      <div class="snippets">천재교육</div>
                      <div class="snippets">^_^</div>
                    </div>
                  </div>
                  <div class="flex">
                    <div class="blogLittleName inlineBlock">천재덕용</div>
                    <div class="cyGender inlineBlock"></div>
                  </div>
                  <div class="blogLittleEmail">qbixroqkfwk@gmail.com</div>
                </div>
              </div>
            </div>
          </div>
          <div class="backR">
            <div class="backRHead">
              <span
                class="backRHT"
                style="font-size: 20px"
                id="userNickName"
              ></span>
              <div
                class="backRHT"
                id="githubLink"
                style="font-size: 15px; cursor: pointer"
              >
                My Github Repositories
              </div>
            </div>
            <div class="flex">
              <div class="backRMainB">
                <div class="backRMain">
                  <div class="loginTitle">Sign up</div>
                  <div class="center">
                    <div class="loginBox">
                      <div class="loginContent">
                        <div>
                          <div class="formBox">
                            <div class="loginTalk">회원 정보 입력</div>
                            <div class="input">
                              <input
                                class="id"
                                placeholder="이메일을 입력해주세요."
                                required
                                autofocus
                                value=""
                                id="signId"
                                oninput="idInput()"
                              />
                              <div class="validation" id="val1"></div>
                            </div>
                            <div class="input">
                              <input
                                class="pw"
                                placeholder="비밀번호를 입력해주세요"
                                type="password"
                                value=""
                                id="signPw"
                                oninput="pwInput()"
                              />
                              <div class="validation" id="val2"></div>
                            </div>
                            <div class="input">
                              <input
                                class="id"
                                placeholder="사용할 닉네임을 입력해주세요."
                                value=""
                                id="signNn"
                                oninput="nnInput()"
                              />
                              <div class="validation" id="val3"></div>
                            </div>
                            <button
                              class="sendB"
                              id="submitSign"
                              style="
                                background-color: #808080;
                                cursor: not-allowed;
                              "
                              disabled
                            >
                              Sign up
                            </button>
                          </div>

                          <div class="stringCenter">
                            <span id="cate4" class="singUpLink">로그인</span>
                            <span style="color: #888">|</span>
                            <span
                              class="singUpLink"
                              id="naverLink"
                            >
                              이용약관
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="categoryGroup">
                <ul class="category">
                  <li class="categoryQ" style="top: 170px">
                    <div id="cate0">Home</div>
                  </li>
                  <li class="categoryQ" style="top: 220px">
                    <div id="cate1">About</div>
                  </li>
                  <li class="categoryQ" style="top: 270px">
                    <div id="cate2">Posts</div>
                  </li>
                  <li class="categoryQ" style="top: 320px">
                    <div id="cate3">Contact</div>
                  </li>
                  <li
                    class="categoryQ categorySB bLW"
                    style="top: 370px; right: -14px"
                  >
                    <div id="cate4" style="color: black">Login</div>
                  </li>
                  <li class="categoryQ" style="top: 420px">
                    <div id="cate5">Personal</div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let numList = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
      let engList = [
        "a",
        "b",
        "c",
        "d",
        "e",
        "f",
        "g",
        "h",
        "i",
        "j",
        "k",
        "l",
        "m",
        "n",
        "o",
        "p",
        "q",
        "r",
        "s",
        "t",
        "u",
        "v",
        "w",
        "x",
        "y",
        "z",
        "A",
        "B",
        "C",
        "D",
        "E",
        "F",
        "G",
        "H",
        "I",
        "J",
        "K",
        "L",
        "M",
        "N",
        "O",
        "P",
        "Q",
        "R",
        "S",
        "T",
        "U",
        "V",
        "W",
        "X",
        "Y",
        "Z",
      ];
      let speList = ["!", "@", "#", "$", "%", "^", "&", "*"];

      let idB = false;
      let pwB = false;
      let nnB = false;
      let numB = false;
      let engB = false;
      let speB = false;

      let idInput = () => {
        let idI = document.querySelector("#signId").value;
        let write1 = document.querySelector("#val1");
        if (
          idI.indexOf("@") == -1 ||
          (idI.indexOf(".com") == -1 && idI.indexOf(".net") == -1)
        ) {
          write1.innerText = "이메일 형식으로 입력해주세요.";
          write1.style.color = "red";
          idB = false;
        } else {
          write1.innerText = "완료";
          write1.style.color = "#00bfff";
          idB = true;
        }
        enableButton();
      };

      let pwInput = () => {
        let pwI = document.querySelector("#signPw").value;
        let write2 = document.querySelector("#val2");
        for (let i = 0; i < numList.length; i++) {
          if (pwI.includes(numList[i])) {
            numB = true;
            break;
          } else {
            numB = false;
          }
        }

        for (let j = 0; j < engList.length; j++) {
          if (pwI.includes(engList[j])) {
            engB = true;
            break;
          } else {
            engB = false;
          }
        }

        for (let k = 0; k < speList.length; k++) {
          if (pwI.includes(speList[k])) {
            speB = true;
            break;
          } else {
            speB = false;
          }
        }

        if (numB && engB && speB && pwI.length >= 8 && pwI.length <= 20) {
          write2.innerText = "완료";
          write2.style.color = "#00bfff";
          pwB = true;
        } else {
          write2.innerText = "숫자+영문+특수문자 8 ~ 20자리";
          write2.style.color = "red";
          pwB = false;
        }
        enableButton();
      };

      let nnInput = () => {
        let nnI = document.querySelector("#signNn").value;
        let write3 = document.querySelector("#val3");
        if (nnI.length < 2 || nnI.length > 8) {
          write3.innerText = "한글+영문 2 ~ 8자리";
          write3.style.color = "red";
          nnB = false;
        } else {
          write3.innerText = "완료";
          write3.style.color = "#00bfff";
          nnB = true;
        }
        enableButton();
      };

      let enableButton = () => {
        let buttonChange = document.querySelector("#submitSign");
        if (idB && pwB && nnB) {
          buttonChange.style.color = "white";
          buttonChange.style.backgroundColor = "#00bfff";
          buttonChange.style.cursor = "pointer";
          buttonChange.disabled = false;
        } else {
          buttonChange.style.color = "white";
          buttonChange.style.backgroundColor = "#808080";
        }
      };

      document.querySelector("#submitSign").addEventListener("click", () => {
        localStorage.setItem(
          "id",
          `${document.querySelector("#signId").value}`
        );
        localStorage.setItem(
          "pw",
          `${document.querySelector("#signPw").value}`
        );
        localStorage.setItem(
          "nn",
          `${document.querySelector("#signNn").value}`
        );
        alert(
          `회원가입이 완료되었습니다.\n${localStorage.getItem(
            "nn"
          )}님 환영합니다!`
        );
        location.assign("login.html");
      });

      // let logout = () => {
      //   localStorage.clear();
      //   alert(`로그아웃 되었습니다.`);
      //   location.reload();
      // };

      // if (localStorage.getItem("id") === null) {
      //   document.write("로그인 해주세요");
      // } else {
      //   document.write(localStorage.getItem("id"));
      // }
      let nick = document.querySelector("#userNickName");
      nick.innerText = `${localStorage.getItem("nn")}의 블로그`;

      let hrefGroup = [
        "home.html",
        "about.html",
        "posts.html",
        "contact.html",
        "login.html",
        "personal.html",
      ];

      for (let i = 0; i < hrefGroup.length; i++) {
        let categoryLink = document.querySelector(`#cate${i}`);
        categoryLink.addEventListener("click", () => {
          location.assign(hrefGroup[i]);
        });
      }

      document.querySelector("#githubLink").addEventListener("click", () => {
        window.open("https://github.com/HyperQuanx?tab=repositories");
      });

      document.querySelector("#naverLink").addEventListener("click", () => {
        window.open("https://policy.naver.com/rules/service.html");
      });
    </script>
    <script></script>
  </body>
</html>
